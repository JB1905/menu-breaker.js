/*!
* menu-breaker.js v1.0
* Copyright 2017 Jakub Biesiada
* MIT License
*/
"use strict";class MenuBreaker{constructor(e,t={}){this.element=e,this.settings=this.settings(t),this.update(),this.addEventListeners()}addEventListeners(){this.onWindowResizeBind=this.onWindowResize.bind(this),window.addEventListener("resize",this.onWindowResizeBind)}onWindowResize(){this.update()}openMobileMenu(){!1===this.firstClick?(this.mobileMenu.classList.add("open"),this.overlay.style.opacity=1,this.overlay.style.display="block",this.firstClick=!0):(this.mobileMenu.classList.remove("open"),this.overlay.style.opacity=0,this.firstClick=!1)}closeMobileMenu(){this.mobileMenu.classList.remove("open"),this.overlay.style.opacity=0,this.firstClick=!1}update(){let e=window.innerWidth;this.checkSize=this.element.offsetHeight,this.mobileMenu=document.querySelector(this.settings["mobile-menu"]),this.openCloseButton=document.querySelector(this.settings["open-close-button"]),this.overlay=document.querySelector(this.settings.overlay),this.checkSize>this.settings["navbar-height"]?(this.firstClick=!1,this.openCloseButton.style.display="block",this.element.style.opacity=0,this.element.style.visibility="hidden",this.mobileMenu.classList.contains("open")&&(this.mobileMenu.style.display="block",this.overlay.style.display="block"),this.mobileMenuBind=this.openMobileMenu.bind(this),this.openCloseButton.addEventListener("click",this.mobileMenuBind),this.closeMobileMenuBind=this.closeMobileMenu.bind(this),this.overlay.addEventListener("click",this.closeMobileMenuBind)):(this.mobileMenu.classList.contains("open")&&(this.mobileMenu.style.display="none",this.overlay.style.display="none"),this.openCloseButton.style.display="none",this.element.style.opacity=1,this.element.style.visibility="visible"),this.listEl=elem.querySelectorAll(":not(li) > ul > li > ul");for(var t=0;t<this.listEl.length;t++){let s=this.listEl[t].parentNode.clientWidth,l=this.listEl[t].clientWidth;this.listEl[t].parentNode.offsetLeft+l>e?this.listEl[t].style.marginLeft=`${-l+s}px`:this.listEl[t].style.marginLeft="0px",this.subListEl=this.listEl[t].querySelectorAll("li > ul");for(var i=0;i<this.subListEl.length;i++){let t=this.subListEl[i].offsetWidth;this.subListEl[i].parentNode.parentNode.parentNode.offsetLeft+t+l>e?this.subListEl[i].style.marginLeft=`${-t}px`:this.subListEl[i].style.marginLeft=`${t}px`}}}settings(e){let t={"mobile-menu":".mobile","open-close-button":"#openMenu",overlay:".overlay","navbar-height":70},i={};for(var s in t)if(s in e)i[s]=e[s];else if(this.element.getAttribute(`data-${s}`)){let e=this.element.getAttribute(`data-${s}`);try{i[s]=JSON.parse(e)}catch(t){i[s]=e}}else i[s]=t[s];return i}}if(window.jQuery){window.jQuery.fn.MenuBreaker=function(e){new MenuBreaker(this[0],e)}}