/*!
* menu-breaker.js v1.0
* Copyright 2017 Jakub Biesiada
* MIT License
*/
class MenuBreaker{constructor(t,e={}){this.element=t,this.settings=this.settings(e),this.firstClick=!1,this.overlay(),this.changeMenu(),this.addEventListeners()}addEventListeners(){window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.changeMenu()}overlay(){!0===this.settings.overlay.show&&(this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),document.body.appendChild(this.overlay),Object.assign(this.overlay.style,{top:"0px",transition:this.settings.overlay.transition,cursor:this.settings.overlay.cursor,width:"100%",height:"100%",position:"fixed",display:"none",opacity:0,"background-color":this.settings.overlay["background-color"]}))}subLevels(){this.listEl=this.element.querySelectorAll(":not(li) > ul > li > ul");for(var t=0;t<this.listEl.length;t++){let i=this.listEl[t].parentNode.clientWidth,s=this.listEl[t].clientWidth;this.listEl[t].parentNode.offsetLeft+s>this.windowWidth?this.listEl[t].style.marginLeft=`${-s+i}px`:this.listEl[t].style.marginLeft="0px",this.subListEl=this.listEl[t].querySelectorAll("li > ul");for(var e=0;e<this.subListEl.length;e++){let t=this.subListEl[e].offsetWidth;this.subListEl[e].parentNode.parentNode.parentNode.offsetLeft+t+s>this.windowWidth?this.subListEl[e].style.marginLeft=`${-t}px`:this.subListEl[e].style.marginLeft=`${t}px`}}}menuButton(){this.openButton.addEventListener("click",()=>{!1===this.firstClick?(this.mobileMenu.classList.add("open"),this.overlay.style.opacity=this.settings.overlay.opacity,this.overlay.style.display="block",this.firstClick=!0):(this.mobileMenu.classList.remove("open"),this.overlay.style.opacity=0,this.firstClick=!1)})}overlayClose(){this.overlay.addEventListener("click",()=>{this.mobileMenu.classList.remove("open"),this.overlay.style.opacity=0,this.firstClick=!1})}mobile(){this.openButton.style.display="block",this.element.style.opacity=0,this.element.style.visibility="hidden",this.mobileMenu.classList.contains("open")&&(this.mobileMenu.style.display="block",this.overlay.style.display="block"),this.menuButton(),this.overlayClose()}desktop(){this.mobileMenu.classList.contains("open")&&(this.mobileMenu.style.display="none",this.overlay.style.display="none"),this.openButton.style.display="none",this.element.style.opacity=1,this.element.style.visibility="visible",this.subLevels()}changeMenu(){this.windowWidth=window.innerWidth,this.checkSize=this.element.offsetHeight,this.mobileMenu=document.querySelector("[data-mobile]"),this.openButton=document.querySelector("[data-open]"),this.closeButton=document.querySelector("[data-close]"),this.checkSize>this.settings["navbar-height"]?this.mobile():this.desktop()}settings(t){let e={overlay:{show:!0,opacity:.5,cursor:"pointer",transition:"all 300ms ease","background-color":"#000"},"navbar-height":70},i={};for(var s in e)i[s]=s in t?t[s]:e[s];return i}}if(window.jQuery){window.jQuery.fn.MenuBreaker=function(t){new MenuBreaker(this[0],t)}}