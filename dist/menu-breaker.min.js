/*!
* menu-breaker.js v1.0.0
* Copyright Â© 2017-present Jakub Biesiada. All rights reserved.
* MIT License
*/
class MenuBreaker{constructor(e,t={}){this.element=e,this.settings=this.settings(t),this.mobileMenu=document.querySelector("[data-mobile]"),this.openButton=document.querySelector("[data-open]"),this.closeButton=document.querySelector("[data-close]"),this.openCloseButton=document.querySelector("[data-open-close]"),this.isOpen=!1,this.changeMenu(),this.menuButton(!0),this.addEventListeners()}addEventListeners(){window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.changeMenu()}subLevels(){this.items=this.element.querySelectorAll(":not(li) > ul > li > ul");for(let e=0;e<this.items.length;e++){const t=this.items[e].parentNode.clientWidth,s=this.items[e].clientWidth;this.items[e].parentNode.offsetLeft+s>window.innerWidth?this.items[e].style.marginLeft=`${-s+t}px`:this.items[e].style.marginLeft="0px",this.subItems=this.items[e].querySelectorAll("li > ul");for(let e=0;e<this.subItems.length;e++){const t=this.subItems[e].offsetWidth;this.subItems[e].parentNode.parentNode.parentNode.offsetLeft+t+s>window.innerWidth?this.subItems[e].style.marginLeft=`${-t}px`:this.subItems[e].style.marginLeft=`${t}px`}}}open(){this.mobileMenu.classList.add(this.settings["open-class"]),this.isOpen=!0,"function"==typeof this.settings.onMenuOpen&&this.settings.onMenuOpen()}close(){this.mobileMenu.classList.remove(this.settings["open-class"]),this.isOpen=!1,"function"==typeof this.settings.onMenuClose&&this.settings.onMenuClose()}menuButton(e){e&&(null!==this.openButton&&this.openButton.addEventListener("click",()=>this.open()),null!==this.closeButton&&this.closeButton.addEventListener("click",()=>this.close()),null!==this.openCloseButton&&this.openCloseButton.addEventListener("click",()=>{this.isOpen?this.close():this.open()})),this.isOpen&&this.mobileMenu.classList.add(this.settings["open-class"])}desktop(){this.mobileMenu.classList.contains(this.settings["open-class"])>0&&this.mobileMenu.classList.remove(this.settings["open-class"]),this.subLevels()}changeMenu(){this.element.offsetHeight>this.settings["navbar-height"]?(this.menuButton(!1),"function"==typeof this.settings.isMobile&&this.settings.isMobile()):(this.desktop(),"function"==typeof this.settings.isDesktop&&this.settings.isDesktop())}settings(e){const t={"navbar-height":70,"open-class":"open",onMenuOpen:null,onMenuClose:null,isMobile:null,isDesktop:null},s={};for(let n in t)s[n]=n in e?e[n]:t[n];return s}}let scope;if("undefined"!=typeof window?scope=window:"undefined"!=typeof global&&(scope=global),scope&&scope.jQuery){scope.jQuery.fn.menuBreaker=function(e){new MenuBreaker(this[0],e)}}"function"==typeof define&&define.amd?define("MenuBreaker",[],function(){return MenuBreaker}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=MenuBreaker),exports.default=MenuBreaker);